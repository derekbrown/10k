{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Image = exports.ImageRenderer = void 0;\n\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\n\nconst react_1 = require(\"react\");\n\nconst MediaLoader_1 = require(\"./MediaLoader\");\n\nconst RendererConfig_1 = require(\"./RendererConfig\");\n\nexports.ImageRenderer = react_1.forwardRef((requestProps, ref) => {\n  var _a, _b;\n\n  const {\n    getStyles,\n    theme,\n    request\n  } = requestProps;\n  const {\n    props,\n    loading,\n    error\n  } = MediaLoader_1.useMediaObjectProps({\n    uri: ((_a = request.media.content) === null || _a === void 0 ? void 0 : _a.uri) || ((_b = request.media.image) === null || _b === void 0 ? void 0 : _b.uri),\n    preferredIPFSGateway: theme.preferredIPFSGateway,\n    ...requestProps\n  });\n  return jsx_runtime_1.jsx(MediaLoader_1.MediaLoader, Object.assign({\n    getStyles: getStyles,\n    loading: loading,\n    error: error\n  }, {\n    children: jsx_runtime_1.jsx(\"img\", Object.assign({\n      ref: ref\n    }, props), void 0)\n  }), void 0);\n});\nexports.Image = {\n  getRenderingPreference: request => {\n    var _a, _b, _c, _d;\n\n    if (request.media.image) {\n      // Make low priority only if full screen, move to normal priority if preview\n      if (request.renderingContext === \"FULL\" && request.media.animation) {\n        return RendererConfig_1.RenderingPreference.LOW;\n      }\n\n      return RendererConfig_1.RenderingPreference.NORMAL;\n    }\n\n    if ((_b = (_a = request.media.content) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.startsWith(\"image/\")) {\n      return RendererConfig_1.RenderingPreference.NORMAL;\n    }\n\n    if ((_d = (_c = request.media.content) === null || _c === void 0 ? void 0 : _c.type) === null || _d === void 0 ? void 0 : _d.startsWith(\"application/svg+xml\")) {\n      return RendererConfig_1.RenderingPreference.NORMAL;\n    }\n\n    return RendererConfig_1.RenderingPreference.INVALID;\n  },\n  render: exports.ImageRenderer\n};","map":{"version":3,"sources":["/Users/derekbrown/workspace/10kdigits/node_modules/@zoralabs/nft-components/dist/content-components/Image.js"],"names":["Object","defineProperty","exports","value","Image","ImageRenderer","jsx_runtime_1","require","react_1","MediaLoader_1","RendererConfig_1","forwardRef","requestProps","ref","_a","_b","getStyles","theme","request","props","loading","error","useMediaObjectProps","uri","media","content","image","preferredIPFSGateway","jsx","MediaLoader","assign","children","getRenderingPreference","_c","_d","renderingContext","animation","RenderingPreference","LOW","NORMAL","type","startsWith","INVALID","render"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Image = exports.ImageRenderer = void 0;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst MediaLoader_1 = require(\"./MediaLoader\");\nconst RendererConfig_1 = require(\"./RendererConfig\");\nexports.ImageRenderer = react_1.forwardRef((requestProps, ref) => {\n    var _a, _b;\n    const { getStyles, theme, request } = requestProps;\n    const { props, loading, error } = MediaLoader_1.useMediaObjectProps({\n        uri: ((_a = request.media.content) === null || _a === void 0 ? void 0 : _a.uri) || ((_b = request.media.image) === null || _b === void 0 ? void 0 : _b.uri),\n        preferredIPFSGateway: theme.preferredIPFSGateway,\n        ...requestProps,\n    });\n    return (jsx_runtime_1.jsx(MediaLoader_1.MediaLoader, Object.assign({ getStyles: getStyles, loading: loading, error: error }, { children: jsx_runtime_1.jsx(\"img\", Object.assign({ ref: ref }, props), void 0) }), void 0));\n});\nexports.Image = {\n    getRenderingPreference: (request) => {\n        var _a, _b, _c, _d;\n        if (request.media.image) {\n            // Make low priority only if full screen, move to normal priority if preview\n            if (request.renderingContext === \"FULL\" && request.media.animation) {\n                return RendererConfig_1.RenderingPreference.LOW;\n            }\n            return RendererConfig_1.RenderingPreference.NORMAL;\n        }\n        if ((_b = (_a = request.media.content) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.startsWith(\"image/\")) {\n            return RendererConfig_1.RenderingPreference.NORMAL;\n        }\n        if ((_d = (_c = request.media.content) === null || _c === void 0 ? void 0 : _c.type) === null || _d === void 0 ? void 0 : _d.startsWith(\"application/svg+xml\")) {\n            return RendererConfig_1.RenderingPreference.NORMAL;\n        }\n        return RendererConfig_1.RenderingPreference.INVALID;\n    },\n    render: exports.ImageRenderer,\n};\n"]},"metadata":{},"sourceType":"script"}