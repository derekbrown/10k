{"ast":null,"code":"import _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { ChakraProvider, FormControl, Flex, Text, Box, FormErrorMessage, Alert, AlertIcon, Skeleton, VStack, Image, Heading, Tag, Grid, FormLabel, Input, InputGroup, InputRightAddon, Wrap, Textarea, Spinner, HStack, TagLabel, TagCloseButton } from '@chakra-ui/react';\nimport _asyncToGenerator from '@babel/runtime/helpers/esm/asyncToGenerator';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { CheckIcon, CopyIcon } from '@chakra-ui/icons';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { ethers } from 'ethers';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nvar _excluded$3 = [\"children\"];\n\nvar Provider = function Provider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded$3);\n\n  return /*#__PURE__*/React.createElement(ChakraProvider, props, children);\n};\n/**\n * A component to display an address\n */\n\n\nvar Address = function Address(_ref) {\n  var value = _ref.value,\n      provider = _ref.provider,\n      _ref$copiable = _ref.copiable,\n      copiable = _ref$copiable === void 0 ? false : _ref$copiable,\n      _ref$shortened = _ref.shortened,\n      shortened = _ref$shortened === void 0 ? false : _ref$shortened,\n      _ref$ens = _ref.ens,\n      ens = _ref$ens === void 0 ? false : _ref$ens;\n\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      copied = _useState4[0],\n      setCopied = _useState4[1];\n\n  var feedbackTimeOut;\n  var displayAddress = value || '';\n\n  var _useState5 = useState(undefined),\n      _useState6 = _slicedToArray(_useState5, 2),\n      ensName = _useState6[0],\n      setEnsName = _useState6[1];\n\n  useEffect(function () {\n    if (value) {\n      if (value.includes('.eth') || value === '' || value === 'Not connected') return;\n    }\n\n    function fetchEns() {\n      return _fetchEns.apply(this, arguments);\n    }\n\n    function _fetchEns() {\n      _fetchEns = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var ensResponse;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(ens && value && provider)) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _context.prev = 1;\n                _context.next = 4;\n                return provider === null || provider === void 0 ? void 0 : provider.lookupAddress(value);\n\n              case 4:\n                ensResponse = _context.sent;\n                setEnsName(ensResponse || undefined);\n                return _context.abrupt(\"return\");\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\");\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 9]]);\n      }));\n      return _fetchEns.apply(this, arguments);\n    }\n\n    fetchEns();\n  }, [value, provider]);\n\n  if (shortened && value) {\n    if (value.includes('.eth') || value === '' || value === 'Not connected') {\n      displayAddress = value;\n    } else {\n      displayAddress = \"\".concat(value.substring(0, 4), \"...\").concat(value.substring(value.length - 4)).toLowerCase();\n    }\n  }\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(copiable && value)) {\n                _context2.next = 12;\n                break;\n              }\n\n              _context2.prev = 1;\n              _context2.next = 4;\n              return navigator.clipboard.writeText(value);\n\n            case 4:\n              setError(undefined);\n              setCopied(true);\n              feedbackTimeOut = setTimeout(function () {\n                setCopied(false);\n              }, 2000);\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n              setError(_context2.t0);\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 9]]);\n    }));\n\n    return function handleClick() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    return function () {\n      return clearTimeout(feedbackTimeOut);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(FormControl, {\n    isInvalid: !!error\n  }, /*#__PURE__*/React.createElement(Flex, {\n    \"data-testid\": \"address-container\",\n    alignItems: \"center\",\n    cursor: copiable ? 'pointer' : 'initial',\n    onClick: handleClick\n  }, /*#__PURE__*/React.createElement(Text, null, ensName || displayAddress), copiable && /*#__PURE__*/React.createElement(Box, {\n    ml: \"auto\"\n  }, copied ? /*#__PURE__*/React.createElement(CheckIcon, {\n    color: \"green.500\"\n  }) : /*#__PURE__*/React.createElement(CopyIcon, {\n    color: \"gray.300\"\n  }))), /*#__PURE__*/React.createElement(FormErrorMessage, null, error));\n};\n/**\n * Component to fetch and display NFT data\n */\n\n\nvar NFT = function NFT(_ref) {\n  var contractAddress = _ref.contractAddress,\n      tokenId = _ref.tokenId,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 'xs' : _ref$size,\n      _ref$isTestnet = _ref.isTestnet,\n      isTestnet = _ref$isTestnet === void 0 ? false : _ref$isTestnet;\n\n  var _isMounted = useRef(true);\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      nftData = _React$useState2[0],\n      setNftData = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      errorMessage = _React$useState4[0],\n      setErrorMessage = _React$useState4[1];\n\n  var fetchNFTData = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var apiSubDomain, res, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            apiSubDomain = isTestnet ? \"rinkeby-api\" : \"api\";\n            _context.prev = 1;\n            _context.next = 4;\n            return fetch(\"https://\".concat(apiSubDomain, \".opensea.io/api/v1/asset/\").concat(contractAddress, \"/\").concat(tokenId, \"/\"));\n\n          case 4:\n            res = _context.sent;\n            if (isTestnet) console.log(\"\\u26A0\\uFE0F OpenSea currently only supports Rinkedby with testnets.\");\n\n            if (res.ok) {\n              _context.next = 8;\n              break;\n            }\n\n            throw Error(\"OpenSea request failed with status: \".concat(res.status, \". Make sure you are on mainnet.\"));\n\n          case 8:\n            _context.next = 10;\n            return res.json();\n\n          case 10:\n            data = _context.sent;\n\n            if (_isMounted.current) {\n              setNftData({\n                tokenId: data.token_id,\n                imageUrl: data.image_url,\n                name: data.name,\n                assetContractName: data.asset_contract.name,\n                assetContractSymbol: data.asset_contract.symbol,\n                animationUrl: data.animation_url\n              });\n            }\n\n            _context.next = 17;\n            break;\n\n          case 14:\n            _context.prev = 14;\n            _context.t0 = _context[\"catch\"](1);\n\n            if (_context.t0 instanceof Error) {\n              setErrorMessage(_context.t0.message);\n            } else {\n              setErrorMessage('An unknown error occurred');\n            }\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 14]]);\n  })), [contractAddress, tokenId]);\n  useEffect(function () {\n    _isMounted.current = true;\n    fetchNFTData();\n    return function () {\n      _isMounted.current = false;\n    };\n  }, [contractAddress, tokenId]);\n  return /*#__PURE__*/React.createElement(NFTCard, {\n    data: nftData,\n    errorMessage: errorMessage,\n    size: size\n  });\n};\n/**\n * Private component to display an NFT given the data\n */\n\n\nvar NFTCard = function NFTCard(_ref3) {\n  var data = _ref3.data,\n      _ref3$errorMessage = _ref3.errorMessage,\n      errorMessage = _ref3$errorMessage === void 0 ? '' : _ref3$errorMessage,\n      size = _ref3.size,\n      _ref3$hideIfError = _ref3.hideIfError,\n      hideIfError = _ref3$hideIfError === void 0 ? false : _ref3$hideIfError;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var name = data === null || data === void 0 ? void 0 : data.name;\n  var imageUrl = data === null || data === void 0 ? void 0 : data.imageUrl;\n  var assetContractName = data === null || data === void 0 ? void 0 : data.assetContractName;\n  var assetContractSymbol = data === null || data === void 0 ? void 0 : data.assetContractSymbol;\n  var animationUrl = data === null || data === void 0 ? void 0 : data.animationUrl;\n  var tokenId = data === null || data === void 0 ? void 0 : data.tokenId;\n  var displayName = name || \"\".concat(assetContractSymbol, \" #\").concat(tokenId);\n\n  if (errorMessage || error || imageUrl === '(unknown)' || !imageUrl) {\n    if (hideIfError) return null;\n    return /*#__PURE__*/React.createElement(Alert, {\n      status: \"error\"\n    }, /*#__PURE__*/React.createElement(AlertIcon, null), errorMessage);\n  }\n\n  return /*#__PURE__*/React.createElement(Skeleton, {\n    isLoaded: !!data,\n    maxW: size,\n    h: \"md\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    maxW: size,\n    borderRadius: \"lg\",\n    borderWidth: \"1px\",\n    overflow: \"hidden\"\n  }, animationUrl ? animationUrl.endsWith('.mp3') ? /*#__PURE__*/React.createElement(VStack, null, /*#__PURE__*/React.createElement(Image, {\n    src: imageUrl,\n    alt: displayName,\n    borderRadius: \"lg\",\n    w: size,\n    onError: function onError() {\n      return setError(true);\n    }\n  }), /*#__PURE__*/React.createElement(\"audio\", {\n    src: animationUrl,\n    controls: true,\n    autoPlay: true,\n    muted: true,\n    style: {\n      borderRadius: '7px'\n    }\n  })) : /*#__PURE__*/React.createElement(Flex, {\n    w: size,\n    h: size,\n    bg: \"black\",\n    justifyContent: \"center\"\n  }, /*#__PURE__*/React.createElement(\"video\", {\n    src: animationUrl,\n    controls: true,\n    autoPlay: true,\n    muted: true\n  })) : /*#__PURE__*/React.createElement(Image, {\n    src: imageUrl,\n    alt: displayName,\n    borderRadius: \"lg\",\n    w: size\n  }), /*#__PURE__*/React.createElement(Box, {\n    p: \"6\"\n  }, /*#__PURE__*/React.createElement(Flex, {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    pb: \"2\"\n  }, /*#__PURE__*/React.createElement(Heading, {\n    as: \"h3\",\n    size: \"sm\",\n    style: {\n      overflowWrap: 'anywhere'\n    }\n  }, displayName), assetContractSymbol && /*#__PURE__*/React.createElement(Tag, {\n    size: \"sm\"\n  }, assetContractSymbol)), /*#__PURE__*/React.createElement(Text, {\n    fontSize: \"xs\"\n  }, assetContractName, \" #\", tokenId))));\n};\n/**\n * Component to display a grid of NFTs owned by an address. It uses the OpenSea API to fetch\n * the NFTs.\n */\n\n\nvar NFTGallery = function NFTGallery(_ref) {\n  var address = _ref.address,\n      _ref$gridWidth = _ref.gridWidth,\n      gridWidth = _ref$gridWidth === void 0 ? 4 : _ref$gridWidth,\n      web3Provider = _ref.web3Provider,\n      _ref$isTestnet = _ref.isTestnet,\n      isTestnet = _ref$isTestnet === void 0 ? false : _ref$isTestnet;\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      nfts = _React$useState2[0],\n      setNfts = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      errorMessage = _React$useState4[0],\n      setErrorMessage = _React$useState4[1];\n\n  useEffect(function () {\n    function exec() {\n      return _exec.apply(this, arguments);\n    }\n\n    function _exec() {\n      _exec = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var resolvedAddress, apiSubDomain;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                resolvedAddress = address;\n                apiSubDomain = isTestnet ? \"rinkeby-api\" : \"api\";\n                if (isTestnet) console.log(\"\\u26A0\\uFE0F OpenSea currently only supports Rinkeby with testnets.\");\n\n                if (!address.endsWith('.eth')) {\n                  _context.next = 9;\n                  break;\n                }\n\n                if (web3Provider) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", console.error('Please provide a web3 provider'));\n\n              case 6:\n                _context.next = 8;\n                return web3Provider.resolveName(address);\n\n              case 8:\n                resolvedAddress = _context.sent;\n\n              case 9:\n                fetch(\"https://\".concat(apiSubDomain, \".opensea.io/api/v1/assets?owner=\").concat(resolvedAddress)).then(function (res) {\n                  if (!res.ok) {\n                    throw Error(\"OpenSea request failed with status: \".concat(res.status, \". Make sure you are on mainnet.\"));\n                  }\n\n                  return res.json();\n                }).then(function (data) {\n                  setNfts(data.assets);\n                  setErrorMessage(null);\n                })[\"catch\"](function (err) {\n                  return setErrorMessage(err.message);\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _exec.apply(this, arguments);\n    }\n\n    exec();\n  }, [address, web3Provider]);\n  return /*#__PURE__*/React.createElement(VStack, null, errorMessage && /*#__PURE__*/React.createElement(Alert, {\n    status: \"error\"\n  }, /*#__PURE__*/React.createElement(AlertIcon, null), errorMessage), /*#__PURE__*/React.createElement(Grid, {\n    templateColumns: \"repeat(\".concat(gridWidth, \", 1fr)\"),\n    gap: 6\n  }, nfts.map(function (nft) {\n    return /*#__PURE__*/React.createElement(NFTCard, {\n      key: \"\".concat(nft.asset_contract.symbol, \"-\").concat(nft.token_id),\n      data: {\n        name: nft.name,\n        imageUrl: nft.image_url,\n        tokenId: nft.token_id,\n        assetContractName: nft.asset_contract.name,\n        assetContractSymbol: nft.asset_contract.symbol\n      },\n      size: \"xs\",\n      hideIfError: true\n    });\n  })));\n};\n\nvar useDebounce = function useDebounce(value, delay) {\n  // State and setters for debounced value\n  var _useState = useState(value),\n      _useState2 = _slicedToArray(_useState, 2),\n      debouncedValue = _useState2[0],\n      setDebouncedValue = _useState2[1];\n\n  useEffect(function () {\n    // Update debounced value after delay\n    var handler = setTimeout(function () {\n      setDebouncedValue(value);\n    }, delay); // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n\n    return function () {\n      clearTimeout(handler);\n    };\n  }, [value, delay] // Only re-call effect if value or delay changes\n  );\n  return debouncedValue;\n};\n\nvar _excluded$2 = [\"provider\", \"value\", \"onChange\", \"label\"];\n/**\n * A text input component that is used to get ETH addresses. ENS support included. You can also pass all the styling props of the Chakra UI Input component.\n */\n\nvar AddressInput = function AddressInput(_ref) {\n  var provider = _ref.provider;\n  _ref.value;\n\n  var onChange = _ref.onChange,\n      label = _ref.label,\n      props = _objectWithoutProperties(_ref, _excluded$2);\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputValue = _useState2[0],\n      setInputValue = _useState2[1];\n\n  var debouncedValue = useDebounce(inputValue, 700);\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var regex = /^0x[a-fA-F0-9]{40}$/;\n\n  var getAddressFromEns = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var address;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return provider.resolveName(debouncedValue);\n\n            case 3:\n              address = _context.sent;\n\n              if (!address) {\n                setError('Invalid Input');\n              }\n\n              return _context.abrupt(\"return\", address);\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              setError(_context.t0);\n              return _context.abrupt(\"return\");\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function getAddressFromEns() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (debouncedValue) {\n      onChange('');\n      setError(null);\n\n      if (regex.test(debouncedValue)) {\n        onChange(debouncedValue);\n      } else if (debouncedValue.endsWith('.eth') || debouncedValue.endsWith('.xyz')) {\n        getAddressFromEns().then(function (address) {\n          return onChange(address ? address : '');\n        });\n      }\n    }\n  }, [debouncedValue]);\n  useEffect(function () {\n    if (inputValue === '') {\n      onChange('');\n      setError(null);\n    }\n  }, [inputValue]);\n  return /*#__PURE__*/React.createElement(FormControl, {\n    isInvalid: !!error\n  }, label && /*#__PURE__*/React.createElement(FormLabel, null, \"Input address\"), /*#__PURE__*/React.createElement(Input, _extends({\n    isInvalid: !!error,\n    value: inputValue,\n    onChange: function onChange(e) {\n      return setInputValue(e.target.value);\n    }\n  }, props)), /*#__PURE__*/React.createElement(FormErrorMessage, null, error ? ' ' + error : ''));\n};\n\nvar _excluded$1 = [\"value\", \"unit\", \"label\", \"onChange\", \"showUnit\", \"placeholder\", \"error\"];\n/**\n * An input field that accepts ether values. Always returns the value in wei so that you can directly use it in transactions without any conversion.\n */\n\nvar EtherInput = function EtherInput(_ref) {\n  _ref.value;\n\n  var _ref$unit = _ref.unit,\n      unit = _ref$unit === void 0 ? 'ether' : _ref$unit,\n      label = _ref.label,\n      _onChange = _ref.onChange,\n      _ref$showUnit = _ref.showUnit,\n      showUnit = _ref$showUnit === void 0 ? true : _ref$showUnit,\n      placeholder = _ref.placeholder,\n      error = _ref.error,\n      props = _objectWithoutProperties(_ref, _excluded$1);\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      plainValue = _React$useState2[0],\n      setPlainValue = _React$useState2[1];\n\n  var _placeholder = placeholder || \"Enter value in \".concat(unit);\n\n  return /*#__PURE__*/React.createElement(FormControl, {\n    isInvalid: !!error\n  }, label ? /*#__PURE__*/React.createElement(FormLabel, {\n    mb: \"8px\"\n  }, label, \": \") : '', /*#__PURE__*/React.createElement(InputGroup, props, /*#__PURE__*/React.createElement(Input, {\n    placeholder: _placeholder,\n    value: plainValue,\n    onChange: function onChange(e) {\n      setPlainValue(e.target.value);\n\n      if (unit === 'ether') {\n        _onChange(ethers.utils.parseEther(e.target.value).toString());\n      } else {\n        _onChange(e.target.value);\n      }\n    }\n  }), showUnit && /*#__PURE__*/React.createElement(InputRightAddon, null, unit === 'ether' ? 'Ξ' : 'wei')), error && /*#__PURE__*/React.createElement(FormErrorMessage, null, error));\n};\n\nvar _excluded = [\"name\", \"symbol\", \"balance\", \"usdValue\", \"imgUrl\"];\n/**\n * A stateless component that displays the name, symbol, balance, and USD value of an ERC20 token\n */\n\nvar TokenBalance = function TokenBalance(_ref) {\n  var name = _ref.name,\n      symbol = _ref.symbol,\n      balance = _ref.balance,\n      usdValue = _ref.usdValue,\n      imgUrl = _ref.imgUrl,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var Headline = function Headline(name) {\n    return /*#__PURE__*/React.createElement(Heading, {\n      as: \"h3\",\n      size: \"sm\"\n    }, name);\n  };\n\n  return /*#__PURE__*/React.createElement(Flex, _extends({\n    borderRadius: \"lg\",\n    borderWidth: \"1px\",\n    overflow: \"hidden\",\n    px: \"4\",\n    py: \"2\"\n  }, props), /*#__PURE__*/React.createElement(Box, {\n    w: \"50px\",\n    pr: \"4\"\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: imgUrl\n  })), /*#__PURE__*/React.createElement(Box, {\n    flex: \"2\"\n  }, Headline(symbol), /*#__PURE__*/React.createElement(\"p\", null, name)), /*#__PURE__*/React.createElement(Box, {\n    flex: \"1\"\n  }, Headline('Balance'), /*#__PURE__*/React.createElement(\"p\", null, balance)), /*#__PURE__*/React.createElement(Box, {\n    flex: \"1\"\n  }, Headline('Value'), /*#__PURE__*/React.createElement(\"p\", null, \"$\", usdValue)));\n};\n/*\n * Original authors: Hans and Bliss from the Moonshot Collective\n * Original source code: https://github.com/moonshotcollective/pay.party/blob/develop/packages/react-app/src/routes/create/components/MultiAddressInput.jsx\n * @dev This component lets you input multiple addresses and ENS names.\n */\n\n\nvar MultiAddressInput = function MultiAddressInput(_ref) {\n  var ensProvider = _ref.ensProvider,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      _ref$placeholder = _ref.placeholder,\n      placeholder = _ref$placeholder === void 0 ? 'Enter ENS names or addresses here' : _ref$placeholder,\n      inputProps = _ref.inputProps;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var addressBadge = function addressBadge(entry) {\n    return /*#__PURE__*/React.createElement(Box, {\n      p: \"1\",\n      key: entry.input\n    }, /*#__PURE__*/React.createElement(HStack, {\n      spacing: 4\n    }, /*#__PURE__*/React.createElement(Tag, {\n      size: \"md\",\n      key: \"md\",\n      borderRadius: \"full\",\n      variant: \"solid\"\n    }, /*#__PURE__*/React.createElement(TagLabel, {\n      color: entry.isValid ? 'default' : 'red.300'\n    }, entry.input), /*#__PURE__*/React.createElement(TagCloseButton, {\n      onClick: function onClick() {\n        onChange(value.filter(function (obj) {\n          return obj.input !== entry.input;\n        }));\n      }\n    }))));\n  };\n\n  var handleChange = function handleChange(e) {\n    var lastInput = e.target.value[e.target.value.length - 1];\n\n    if (lastInput === ',' || lastInput === '\\n') {\n      var splitInput = e.currentTarget.value.split(/[ ,\\n]+/).filter(function (c) {\n        return c !== '';\n      }).map( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(uin) {\n          var val;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  val = {\n                    input: uin,\n                    isValid: false,\n                    address: null,\n                    ens: null\n                  };\n                  _context.prev = 1;\n\n                  if (!(uin.endsWith('.eth') || uin.endsWith('.xyz'))) {\n                    _context.next = 9;\n                    break;\n                  }\n\n                  _context.next = 5;\n                  return ensProvider.resolveName(uin);\n\n                case 5:\n                  val.address = _context.sent;\n                  val.ens = uin;\n                  _context.next = 13;\n                  break;\n\n                case 9:\n                  _context.next = 11;\n                  return ensProvider.lookupAddress(uin);\n\n                case 11:\n                  val.ens = _context.sent;\n                  val.address = uin;\n\n                case 13:\n                  val.isValid = true;\n                  _context.next = 20;\n                  break;\n\n                case 16:\n                  _context.prev = 16;\n                  _context.t0 = _context[\"catch\"](1);\n                  val.isValid = false;\n                  console.error('Bad Address: ' + uin);\n\n                case 20:\n                  return _context.abrupt(\"return\", val);\n\n                case 21:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[1, 16]]);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n      setIsLoading(true);\n      Promise.all(splitInput).then(function (d) {\n        onChange([].concat(_toConsumableArray(value), _toConsumableArray(d)));\n      })[\"finally\"](function () {\n        return setIsLoading(false);\n      });\n      e.target.value = '';\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(VStack, null, /*#__PURE__*/React.createElement(Wrap, null, value && value.map(addressBadge)), /*#__PURE__*/React.createElement(Textarea, _extends({\n    rows: 1,\n    placeholder: placeholder,\n    onChange: handleChange,\n    disabled: isLoading\n  }, inputProps)), isLoading && /*#__PURE__*/React.createElement(Spinner, {\n    size: \"sm\"\n  }));\n};\n\nexport { Address, AddressInput, EtherInput, MultiAddressInput, NFT, NFTCard, NFTGallery, Provider, TokenBalance };","map":{"version":3,"sources":["/Users/derekbrown/workspace/10kdigits/node_modules/@web3-ui/components/dist/web3-ui-components.esm.js"],"names":["_objectWithoutProperties","React","useState","useEffect","useRef","useCallback","ChakraProvider","FormControl","Flex","Text","Box","FormErrorMessage","Alert","AlertIcon","Skeleton","VStack","Image","Heading","Tag","Grid","FormLabel","Input","InputGroup","InputRightAddon","Wrap","Textarea","Spinner","HStack","TagLabel","TagCloseButton","_asyncToGenerator","_slicedToArray","_regeneratorRuntime","CheckIcon","CopyIcon","_extends","ethers","_toConsumableArray","_excluded$3","Provider","_ref","children","props","createElement","Address","value","provider","_ref$copiable","copiable","_ref$shortened","shortened","_ref$ens","ens","_useState","undefined","_useState2","error","setError","_useState3","_useState4","copied","setCopied","feedbackTimeOut","displayAddress","_useState5","_useState6","ensName","setEnsName","includes","fetchEns","_fetchEns","apply","arguments","mark","_callee","ensResponse","wrap","_callee$","_context","prev","next","lookupAddress","sent","abrupt","t0","stop","concat","substring","length","toLowerCase","handleClick","_ref2","_callee2","_callee2$","_context2","navigator","clipboard","writeText","setTimeout","clearTimeout","isInvalid","alignItems","cursor","onClick","ml","color","NFT","contractAddress","tokenId","_ref$size","size","_ref$isTestnet","isTestnet","_isMounted","_React$useState","_React$useState2","nftData","setNftData","_React$useState3","_React$useState4","errorMessage","setErrorMessage","fetchNFTData","apiSubDomain","res","data","fetch","console","log","ok","Error","status","json","current","token_id","imageUrl","image_url","name","assetContractName","asset_contract","assetContractSymbol","symbol","animationUrl","animation_url","message","NFTCard","_ref3","_ref3$errorMessage","_ref3$hideIfError","hideIfError","displayName","isLoaded","maxW","h","borderRadius","borderWidth","overflow","endsWith","src","alt","w","onError","controls","autoPlay","muted","style","bg","justifyContent","p","pb","as","overflowWrap","fontSize","NFTGallery","address","_ref$gridWidth","gridWidth","web3Provider","nfts","setNfts","exec","_exec","resolvedAddress","resolveName","then","assets","err","templateColumns","gap","map","nft","key","useDebounce","delay","debouncedValue","setDebouncedValue","handler","_excluded$2","AddressInput","onChange","label","inputValue","setInputValue","regex","getAddressFromEns","test","e","target","_excluded$1","EtherInput","_ref$unit","unit","_onChange","_ref$showUnit","showUnit","placeholder","plainValue","setPlainValue","_placeholder","mb","utils","parseEther","toString","_excluded","TokenBalance","balance","usdValue","imgUrl","Headline","px","py","pr","flex","MultiAddressInput","ensProvider","_ref$placeholder","inputProps","isLoading","setIsLoading","addressBadge","entry","input","spacing","variant","isValid","filter","obj","handleChange","lastInput","splitInput","currentTarget","split","c","uin","val","_x","Promise","all","d","rows","disabled"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { ChakraProvider, FormControl, Flex, Text, Box, FormErrorMessage, Alert, AlertIcon, Skeleton, VStack, Image, Heading, Tag, Grid, FormLabel, Input, InputGroup, InputRightAddon, Wrap, Textarea, Spinner, HStack, TagLabel, TagCloseButton } from '@chakra-ui/react';\nimport _asyncToGenerator from '@babel/runtime/helpers/esm/asyncToGenerator';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { CheckIcon, CopyIcon } from '@chakra-ui/icons';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { ethers } from 'ethers';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\n\nvar _excluded$3 = [\"children\"];\nvar Provider = function Provider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded$3);\n\n  return /*#__PURE__*/React.createElement(ChakraProvider, props, children);\n};\n\n/**\n * A component to display an address\n */\nvar Address = function Address(_ref) {\n  var value = _ref.value,\n      provider = _ref.provider,\n      _ref$copiable = _ref.copiable,\n      copiable = _ref$copiable === void 0 ? false : _ref$copiable,\n      _ref$shortened = _ref.shortened,\n      shortened = _ref$shortened === void 0 ? false : _ref$shortened,\n      _ref$ens = _ref.ens,\n      ens = _ref$ens === void 0 ? false : _ref$ens;\n\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      copied = _useState4[0],\n      setCopied = _useState4[1];\n\n  var feedbackTimeOut;\n  var displayAddress = value || '';\n\n  var _useState5 = useState(undefined),\n      _useState6 = _slicedToArray(_useState5, 2),\n      ensName = _useState6[0],\n      setEnsName = _useState6[1];\n\n  useEffect(function () {\n    if (value) {\n      if (value.includes('.eth') || value === '' || value === 'Not connected') return;\n    }\n\n    function fetchEns() {\n      return _fetchEns.apply(this, arguments);\n    }\n\n    function _fetchEns() {\n      _fetchEns = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var ensResponse;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(ens && value && provider)) {\n                  _context.next = 12;\n                  break;\n                }\n\n                _context.prev = 1;\n                _context.next = 4;\n                return provider === null || provider === void 0 ? void 0 : provider.lookupAddress(value);\n\n              case 4:\n                ensResponse = _context.sent;\n                setEnsName(ensResponse || undefined);\n                return _context.abrupt(\"return\");\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\");\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 9]]);\n      }));\n      return _fetchEns.apply(this, arguments);\n    }\n\n    fetchEns();\n  }, [value, provider]);\n\n  if (shortened && value) {\n    if (value.includes('.eth') || value === '' || value === 'Not connected') {\n      displayAddress = value;\n    } else {\n      displayAddress = \"\".concat(value.substring(0, 4), \"...\").concat(value.substring(value.length - 4)).toLowerCase();\n    }\n  }\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(copiable && value)) {\n                _context2.next = 12;\n                break;\n              }\n\n              _context2.prev = 1;\n              _context2.next = 4;\n              return navigator.clipboard.writeText(value);\n\n            case 4:\n              setError(undefined);\n              setCopied(true);\n              feedbackTimeOut = setTimeout(function () {\n                setCopied(false);\n              }, 2000);\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n              setError(_context2.t0);\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 9]]);\n    }));\n\n    return function handleClick() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    return function () {\n      return clearTimeout(feedbackTimeOut);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(FormControl, {\n    isInvalid: !!error\n  }, /*#__PURE__*/React.createElement(Flex, {\n    \"data-testid\": \"address-container\",\n    alignItems: \"center\",\n    cursor: copiable ? 'pointer' : 'initial',\n    onClick: handleClick\n  }, /*#__PURE__*/React.createElement(Text, null, ensName || displayAddress), copiable && /*#__PURE__*/React.createElement(Box, {\n    ml: \"auto\"\n  }, copied ? /*#__PURE__*/React.createElement(CheckIcon, {\n    color: \"green.500\"\n  }) : /*#__PURE__*/React.createElement(CopyIcon, {\n    color: \"gray.300\"\n  }))), /*#__PURE__*/React.createElement(FormErrorMessage, null, error));\n};\n\n/**\n * Component to fetch and display NFT data\n */\nvar NFT = function NFT(_ref) {\n  var contractAddress = _ref.contractAddress,\n      tokenId = _ref.tokenId,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 'xs' : _ref$size,\n      _ref$isTestnet = _ref.isTestnet,\n      isTestnet = _ref$isTestnet === void 0 ? false : _ref$isTestnet;\n\n  var _isMounted = useRef(true);\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      nftData = _React$useState2[0],\n      setNftData = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      errorMessage = _React$useState4[0],\n      setErrorMessage = _React$useState4[1];\n\n  var fetchNFTData = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var apiSubDomain, res, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            apiSubDomain = isTestnet ? \"rinkeby-api\" : \"api\";\n            _context.prev = 1;\n            _context.next = 4;\n            return fetch(\"https://\".concat(apiSubDomain, \".opensea.io/api/v1/asset/\").concat(contractAddress, \"/\").concat(tokenId, \"/\"));\n\n          case 4:\n            res = _context.sent;\n            if (isTestnet) console.log(\"\\u26A0\\uFE0F OpenSea currently only supports Rinkedby with testnets.\");\n\n            if (res.ok) {\n              _context.next = 8;\n              break;\n            }\n\n            throw Error(\"OpenSea request failed with status: \".concat(res.status, \". Make sure you are on mainnet.\"));\n\n          case 8:\n            _context.next = 10;\n            return res.json();\n\n          case 10:\n            data = _context.sent;\n\n            if (_isMounted.current) {\n              setNftData({\n                tokenId: data.token_id,\n                imageUrl: data.image_url,\n                name: data.name,\n                assetContractName: data.asset_contract.name,\n                assetContractSymbol: data.asset_contract.symbol,\n                animationUrl: data.animation_url\n              });\n            }\n\n            _context.next = 17;\n            break;\n\n          case 14:\n            _context.prev = 14;\n            _context.t0 = _context[\"catch\"](1);\n\n            if (_context.t0 instanceof Error) {\n              setErrorMessage(_context.t0.message);\n            } else {\n              setErrorMessage('An unknown error occurred');\n            }\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 14]]);\n  })), [contractAddress, tokenId]);\n  useEffect(function () {\n    _isMounted.current = true;\n    fetchNFTData();\n    return function () {\n      _isMounted.current = false;\n    };\n  }, [contractAddress, tokenId]);\n  return /*#__PURE__*/React.createElement(NFTCard, {\n    data: nftData,\n    errorMessage: errorMessage,\n    size: size\n  });\n};\n/**\n * Private component to display an NFT given the data\n */\n\nvar NFTCard = function NFTCard(_ref3) {\n  var data = _ref3.data,\n      _ref3$errorMessage = _ref3.errorMessage,\n      errorMessage = _ref3$errorMessage === void 0 ? '' : _ref3$errorMessage,\n      size = _ref3.size,\n      _ref3$hideIfError = _ref3.hideIfError,\n      hideIfError = _ref3$hideIfError === void 0 ? false : _ref3$hideIfError;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var name = data === null || data === void 0 ? void 0 : data.name;\n  var imageUrl = data === null || data === void 0 ? void 0 : data.imageUrl;\n  var assetContractName = data === null || data === void 0 ? void 0 : data.assetContractName;\n  var assetContractSymbol = data === null || data === void 0 ? void 0 : data.assetContractSymbol;\n  var animationUrl = data === null || data === void 0 ? void 0 : data.animationUrl;\n  var tokenId = data === null || data === void 0 ? void 0 : data.tokenId;\n  var displayName = name || \"\".concat(assetContractSymbol, \" #\").concat(tokenId);\n\n  if (errorMessage || error || imageUrl === '(unknown)' || !imageUrl) {\n    if (hideIfError) return null;\n    return /*#__PURE__*/React.createElement(Alert, {\n      status: \"error\"\n    }, /*#__PURE__*/React.createElement(AlertIcon, null), errorMessage);\n  }\n\n  return /*#__PURE__*/React.createElement(Skeleton, {\n    isLoaded: !!data,\n    maxW: size,\n    h: \"md\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    maxW: size,\n    borderRadius: \"lg\",\n    borderWidth: \"1px\",\n    overflow: \"hidden\"\n  }, animationUrl ? animationUrl.endsWith('.mp3') ? /*#__PURE__*/React.createElement(VStack, null, /*#__PURE__*/React.createElement(Image, {\n    src: imageUrl,\n    alt: displayName,\n    borderRadius: \"lg\",\n    w: size,\n    onError: function onError() {\n      return setError(true);\n    }\n  }), /*#__PURE__*/React.createElement(\"audio\", {\n    src: animationUrl,\n    controls: true,\n    autoPlay: true,\n    muted: true,\n    style: {\n      borderRadius: '7px'\n    }\n  })) : /*#__PURE__*/React.createElement(Flex, {\n    w: size,\n    h: size,\n    bg: \"black\",\n    justifyContent: \"center\"\n  }, /*#__PURE__*/React.createElement(\"video\", {\n    src: animationUrl,\n    controls: true,\n    autoPlay: true,\n    muted: true\n  })) : /*#__PURE__*/React.createElement(Image, {\n    src: imageUrl,\n    alt: displayName,\n    borderRadius: \"lg\",\n    w: size\n  }), /*#__PURE__*/React.createElement(Box, {\n    p: \"6\"\n  }, /*#__PURE__*/React.createElement(Flex, {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    pb: \"2\"\n  }, /*#__PURE__*/React.createElement(Heading, {\n    as: \"h3\",\n    size: \"sm\",\n    style: {\n      overflowWrap: 'anywhere'\n    }\n  }, displayName), assetContractSymbol && /*#__PURE__*/React.createElement(Tag, {\n    size: \"sm\"\n  }, assetContractSymbol)), /*#__PURE__*/React.createElement(Text, {\n    fontSize: \"xs\"\n  }, assetContractName, \" #\", tokenId))));\n};\n\n/**\n * Component to display a grid of NFTs owned by an address. It uses the OpenSea API to fetch\n * the NFTs.\n */\nvar NFTGallery = function NFTGallery(_ref) {\n  var address = _ref.address,\n      _ref$gridWidth = _ref.gridWidth,\n      gridWidth = _ref$gridWidth === void 0 ? 4 : _ref$gridWidth,\n      web3Provider = _ref.web3Provider,\n      _ref$isTestnet = _ref.isTestnet,\n      isTestnet = _ref$isTestnet === void 0 ? false : _ref$isTestnet;\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      nfts = _React$useState2[0],\n      setNfts = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      errorMessage = _React$useState4[0],\n      setErrorMessage = _React$useState4[1];\n\n  useEffect(function () {\n    function exec() {\n      return _exec.apply(this, arguments);\n    }\n\n    function _exec() {\n      _exec = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var resolvedAddress, apiSubDomain;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                resolvedAddress = address;\n                apiSubDomain = isTestnet ? \"rinkeby-api\" : \"api\";\n                if (isTestnet) console.log(\"\\u26A0\\uFE0F OpenSea currently only supports Rinkeby with testnets.\");\n\n                if (!address.endsWith('.eth')) {\n                  _context.next = 9;\n                  break;\n                }\n\n                if (web3Provider) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", console.error('Please provide a web3 provider'));\n\n              case 6:\n                _context.next = 8;\n                return web3Provider.resolveName(address);\n\n              case 8:\n                resolvedAddress = _context.sent;\n\n              case 9:\n                fetch(\"https://\".concat(apiSubDomain, \".opensea.io/api/v1/assets?owner=\").concat(resolvedAddress)).then(function (res) {\n                  if (!res.ok) {\n                    throw Error(\"OpenSea request failed with status: \".concat(res.status, \". Make sure you are on mainnet.\"));\n                  }\n\n                  return res.json();\n                }).then(function (data) {\n                  setNfts(data.assets);\n                  setErrorMessage(null);\n                })[\"catch\"](function (err) {\n                  return setErrorMessage(err.message);\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _exec.apply(this, arguments);\n    }\n\n    exec();\n  }, [address, web3Provider]);\n  return /*#__PURE__*/React.createElement(VStack, null, errorMessage && /*#__PURE__*/React.createElement(Alert, {\n    status: \"error\"\n  }, /*#__PURE__*/React.createElement(AlertIcon, null), errorMessage), /*#__PURE__*/React.createElement(Grid, {\n    templateColumns: \"repeat(\".concat(gridWidth, \", 1fr)\"),\n    gap: 6\n  }, nfts.map(function (nft) {\n    return /*#__PURE__*/React.createElement(NFTCard, {\n      key: \"\".concat(nft.asset_contract.symbol, \"-\").concat(nft.token_id),\n      data: {\n        name: nft.name,\n        imageUrl: nft.image_url,\n        tokenId: nft.token_id,\n        assetContractName: nft.asset_contract.name,\n        assetContractSymbol: nft.asset_contract.symbol\n      },\n      size: \"xs\",\n      hideIfError: true\n    });\n  })));\n};\n\nvar useDebounce = function useDebounce(value, delay) {\n  // State and setters for debounced value\n  var _useState = useState(value),\n      _useState2 = _slicedToArray(_useState, 2),\n      debouncedValue = _useState2[0],\n      setDebouncedValue = _useState2[1];\n\n  useEffect(function () {\n    // Update debounced value after delay\n    var handler = setTimeout(function () {\n      setDebouncedValue(value);\n    }, delay); // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n\n    return function () {\n      clearTimeout(handler);\n    };\n  }, [value, delay] // Only re-call effect if value or delay changes\n  );\n  return debouncedValue;\n};\n\nvar _excluded$2 = [\"provider\", \"value\", \"onChange\", \"label\"];\n\n/**\n * A text input component that is used to get ETH addresses. ENS support included. You can also pass all the styling props of the Chakra UI Input component.\n */\nvar AddressInput = function AddressInput(_ref) {\n  var provider = _ref.provider;\n      _ref.value;\n      var onChange = _ref.onChange,\n      label = _ref.label,\n      props = _objectWithoutProperties(_ref, _excluded$2);\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputValue = _useState2[0],\n      setInputValue = _useState2[1];\n\n  var debouncedValue = useDebounce(inputValue, 700);\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var regex = /^0x[a-fA-F0-9]{40}$/;\n\n  var getAddressFromEns = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var address;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return provider.resolveName(debouncedValue);\n\n            case 3:\n              address = _context.sent;\n\n              if (!address) {\n                setError('Invalid Input');\n              }\n\n              return _context.abrupt(\"return\", address);\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              setError(_context.t0);\n              return _context.abrupt(\"return\");\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function getAddressFromEns() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (debouncedValue) {\n      onChange('');\n      setError(null);\n\n      if (regex.test(debouncedValue)) {\n        onChange(debouncedValue);\n      } else if (debouncedValue.endsWith('.eth') || debouncedValue.endsWith('.xyz')) {\n        getAddressFromEns().then(function (address) {\n          return onChange(address ? address : '');\n        });\n      }\n    }\n  }, [debouncedValue]);\n  useEffect(function () {\n    if (inputValue === '') {\n      onChange('');\n      setError(null);\n    }\n  }, [inputValue]);\n  return /*#__PURE__*/React.createElement(FormControl, {\n    isInvalid: !!error\n  }, label && /*#__PURE__*/React.createElement(FormLabel, null, \"Input address\"), /*#__PURE__*/React.createElement(Input, _extends({\n    isInvalid: !!error,\n    value: inputValue,\n    onChange: function onChange(e) {\n      return setInputValue(e.target.value);\n    }\n  }, props)), /*#__PURE__*/React.createElement(FormErrorMessage, null, error ? ' ' + error : ''));\n};\n\nvar _excluded$1 = [\"value\", \"unit\", \"label\", \"onChange\", \"showUnit\", \"placeholder\", \"error\"];\n\n/**\n * An input field that accepts ether values. Always returns the value in wei so that you can directly use it in transactions without any conversion.\n */\nvar EtherInput = function EtherInput(_ref) {\n  _ref.value;\n      var _ref$unit = _ref.unit,\n      unit = _ref$unit === void 0 ? 'ether' : _ref$unit,\n      label = _ref.label,\n      _onChange = _ref.onChange,\n      _ref$showUnit = _ref.showUnit,\n      showUnit = _ref$showUnit === void 0 ? true : _ref$showUnit,\n      placeholder = _ref.placeholder,\n      error = _ref.error,\n      props = _objectWithoutProperties(_ref, _excluded$1);\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      plainValue = _React$useState2[0],\n      setPlainValue = _React$useState2[1];\n\n  var _placeholder = placeholder || \"Enter value in \".concat(unit);\n\n  return /*#__PURE__*/React.createElement(FormControl, {\n    isInvalid: !!error\n  }, label ? /*#__PURE__*/React.createElement(FormLabel, {\n    mb: \"8px\"\n  }, label, \": \") : '', /*#__PURE__*/React.createElement(InputGroup, props, /*#__PURE__*/React.createElement(Input, {\n    placeholder: _placeholder,\n    value: plainValue,\n    onChange: function onChange(e) {\n      setPlainValue(e.target.value);\n\n      if (unit === 'ether') {\n        _onChange(ethers.utils.parseEther(e.target.value).toString());\n      } else {\n        _onChange(e.target.value);\n      }\n    }\n  }), showUnit && /*#__PURE__*/React.createElement(InputRightAddon, null, unit === 'ether' ? 'Ξ' : 'wei')), error && /*#__PURE__*/React.createElement(FormErrorMessage, null, error));\n};\n\nvar _excluded = [\"name\", \"symbol\", \"balance\", \"usdValue\", \"imgUrl\"];\n\n/**\n * A stateless component that displays the name, symbol, balance, and USD value of an ERC20 token\n */\nvar TokenBalance = function TokenBalance(_ref) {\n  var name = _ref.name,\n      symbol = _ref.symbol,\n      balance = _ref.balance,\n      usdValue = _ref.usdValue,\n      imgUrl = _ref.imgUrl,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var Headline = function Headline(name) {\n    return /*#__PURE__*/React.createElement(Heading, {\n      as: \"h3\",\n      size: \"sm\"\n    }, name);\n  };\n\n  return /*#__PURE__*/React.createElement(Flex, _extends({\n    borderRadius: \"lg\",\n    borderWidth: \"1px\",\n    overflow: \"hidden\",\n    px: \"4\",\n    py: \"2\"\n  }, props), /*#__PURE__*/React.createElement(Box, {\n    w: \"50px\",\n    pr: \"4\"\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: imgUrl\n  })), /*#__PURE__*/React.createElement(Box, {\n    flex: \"2\"\n  }, Headline(symbol), /*#__PURE__*/React.createElement(\"p\", null, name)), /*#__PURE__*/React.createElement(Box, {\n    flex: \"1\"\n  }, Headline('Balance'), /*#__PURE__*/React.createElement(\"p\", null, balance)), /*#__PURE__*/React.createElement(Box, {\n    flex: \"1\"\n  }, Headline('Value'), /*#__PURE__*/React.createElement(\"p\", null, \"$\", usdValue)));\n};\n\n/*\n * Original authors: Hans and Bliss from the Moonshot Collective\n * Original source code: https://github.com/moonshotcollective/pay.party/blob/develop/packages/react-app/src/routes/create/components/MultiAddressInput.jsx\n * @dev This component lets you input multiple addresses and ENS names.\n */\nvar MultiAddressInput = function MultiAddressInput(_ref) {\n  var ensProvider = _ref.ensProvider,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      _ref$placeholder = _ref.placeholder,\n      placeholder = _ref$placeholder === void 0 ? 'Enter ENS names or addresses here' : _ref$placeholder,\n      inputProps = _ref.inputProps;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var addressBadge = function addressBadge(entry) {\n    return /*#__PURE__*/React.createElement(Box, {\n      p: \"1\",\n      key: entry.input\n    }, /*#__PURE__*/React.createElement(HStack, {\n      spacing: 4\n    }, /*#__PURE__*/React.createElement(Tag, {\n      size: \"md\",\n      key: \"md\",\n      borderRadius: \"full\",\n      variant: \"solid\"\n    }, /*#__PURE__*/React.createElement(TagLabel, {\n      color: entry.isValid ? 'default' : 'red.300'\n    }, entry.input), /*#__PURE__*/React.createElement(TagCloseButton, {\n      onClick: function onClick() {\n        onChange(value.filter(function (obj) {\n          return obj.input !== entry.input;\n        }));\n      }\n    }))));\n  };\n\n  var handleChange = function handleChange(e) {\n    var lastInput = e.target.value[e.target.value.length - 1];\n\n    if (lastInput === ',' || lastInput === '\\n') {\n      var splitInput = e.currentTarget.value.split(/[ ,\\n]+/).filter(function (c) {\n        return c !== '';\n      }).map( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(uin) {\n          var val;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  val = {\n                    input: uin,\n                    isValid: false,\n                    address: null,\n                    ens: null\n                  };\n                  _context.prev = 1;\n\n                  if (!(uin.endsWith('.eth') || uin.endsWith('.xyz'))) {\n                    _context.next = 9;\n                    break;\n                  }\n\n                  _context.next = 5;\n                  return ensProvider.resolveName(uin);\n\n                case 5:\n                  val.address = _context.sent;\n                  val.ens = uin;\n                  _context.next = 13;\n                  break;\n\n                case 9:\n                  _context.next = 11;\n                  return ensProvider.lookupAddress(uin);\n\n                case 11:\n                  val.ens = _context.sent;\n                  val.address = uin;\n\n                case 13:\n                  val.isValid = true;\n                  _context.next = 20;\n                  break;\n\n                case 16:\n                  _context.prev = 16;\n                  _context.t0 = _context[\"catch\"](1);\n                  val.isValid = false;\n                  console.error('Bad Address: ' + uin);\n\n                case 20:\n                  return _context.abrupt(\"return\", val);\n\n                case 21:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[1, 16]]);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n      setIsLoading(true);\n      Promise.all(splitInput).then(function (d) {\n        onChange([].concat(_toConsumableArray(value), _toConsumableArray(d)));\n      })[\"finally\"](function () {\n        return setIsLoading(false);\n      });\n      e.target.value = '';\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(VStack, null, /*#__PURE__*/React.createElement(Wrap, null, value && value.map(addressBadge)), /*#__PURE__*/React.createElement(Textarea, _extends({\n    rows: 1,\n    placeholder: placeholder,\n    onChange: handleChange,\n    disabled: isLoading\n  }, inputProps)), isLoading && /*#__PURE__*/React.createElement(Spinner, {\n    size: \"sm\"\n  }));\n};\n\nexport { Address, AddressInput, EtherInput, MultiAddressInput, NFT, NFTCard, NFTGallery, Provider, TokenBalance };\n"]},"metadata":{},"sourceType":"module"}