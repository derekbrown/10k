{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HTML = void 0;\n\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\n\nconst react_1 = require(\"react\");\n\nconst MediaLoader_1 = require(\"./MediaLoader\");\n\nconst RendererConfig_1 = require(\"./RendererConfig\");\n\nconst HTMLRenderer = requestProps => {\n  var _a, _b;\n\n  const {\n    getStyles,\n    request,\n    theme\n  } = requestProps;\n  const {\n    props,\n    loading,\n    error\n  } = MediaLoader_1.useMediaObjectProps({\n    uri: ((_a = request.media.content) === null || _a === void 0 ? void 0 : _a.uri) || ((_b = request.media.animation) === null || _b === void 0 ? void 0 : _b.uri),\n    preferredIPFSGateway: theme.preferredIPFSGateway,\n    ...requestProps\n  });\n  const [windowHeight, setWindowHeight] = react_1.useState(() => window.innerHeight);\n  react_1.useEffect(() => {\n    const resizeHandler = () => {\n      setWindowHeight(window.innerHeight);\n    };\n\n    document.addEventListener(\"resize\", resizeHandler);\n    return () => {\n      document.removeEventListener(\"resize\", resizeHandler);\n    };\n  });\n  return jsx_runtime_1.jsx(MediaLoader_1.MediaLoader, Object.assign({\n    getStyles: getStyles,\n    loading: loading,\n    error: error\n  }, {\n    children: jsx_runtime_1.jsx(\"iframe\", Object.assign({\n      sandbox: \"allow-scripts\",\n      height: Math.floor(windowHeight * 0.6),\n      width: \"100%\",\n      style: {\n        border: 0\n      }\n    }, props), void 0)\n  }), void 0);\n};\n\nexports.HTML = {\n  getRenderingPreference(request) {\n    var _a, _b, _c, _d, _e, _f;\n\n    if (((_b = (_a = request.media.content) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.startsWith(\"text/html\")) || ((_d = (_c = request.media.content) === null || _c === void 0 ? void 0 : _c.type) === null || _d === void 0 ? void 0 : _d.startsWith(\"application/pdf\")) || ((_f = (_e = request.media.animation) === null || _e === void 0 ? void 0 : _e.type) === null || _f === void 0 ? void 0 : _f.startsWith(\"text/html\"))) {\n      return request.renderingContext === \"FULL\" ? RendererConfig_1.RenderingPreference.PRIORITY : RendererConfig_1.RenderingPreference.INVALID;\n    }\n\n    return RendererConfig_1.RenderingPreference.INVALID;\n  },\n\n  render: HTMLRenderer\n};","map":{"version":3,"sources":["/Users/derekbrown/workspace/10kdigits/node_modules/@zoralabs/nft-components/dist/content-components/HTML.js"],"names":["Object","defineProperty","exports","value","HTML","jsx_runtime_1","require","react_1","MediaLoader_1","RendererConfig_1","HTMLRenderer","requestProps","_a","_b","getStyles","request","theme","props","loading","error","useMediaObjectProps","uri","media","content","animation","preferredIPFSGateway","windowHeight","setWindowHeight","useState","window","innerHeight","useEffect","resizeHandler","document","addEventListener","removeEventListener","jsx","MediaLoader","assign","children","sandbox","height","Math","floor","width","style","border","getRenderingPreference","_c","_d","_e","_f","type","startsWith","renderingContext","RenderingPreference","PRIORITY","INVALID","render"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,IAAR,GAAe,KAAK,CAApB;;AACA,MAAMC,aAAa,GAAGC,OAAO,CAAC,mBAAD,CAA7B;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,OAAD,CAAvB;;AACA,MAAME,aAAa,GAAGF,OAAO,CAAC,eAAD,CAA7B;;AACA,MAAMG,gBAAgB,GAAGH,OAAO,CAAC,kBAAD,CAAhC;;AACA,MAAMI,YAAY,GAAIC,YAAD,IAAkB;AACnC,MAAIC,EAAJ,EAAQC,EAAR;;AACA,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA,OAAb;AAAsBC,IAAAA;AAAtB,MAAgCL,YAAtC;AACA,QAAM;AAAEM,IAAAA,KAAF;AAASC,IAAAA,OAAT;AAAkBC,IAAAA;AAAlB,MAA4BX,aAAa,CAACY,mBAAd,CAAkC;AAChEC,IAAAA,GAAG,EAAE,CAAC,CAACT,EAAE,GAAGG,OAAO,CAACO,KAAR,CAAcC,OAApB,MAAiC,IAAjC,IAAyCX,EAAE,KAAK,KAAK,CAArD,GAAyD,KAAK,CAA9D,GAAkEA,EAAE,CAACS,GAAtE,MAA+E,CAACR,EAAE,GAAGE,OAAO,CAACO,KAAR,CAAcE,SAApB,MAAmC,IAAnC,IAA2CX,EAAE,KAAK,KAAK,CAAvD,GAA2D,KAAK,CAAhE,GAAoEA,EAAE,CAACQ,GAAtJ,CAD2D;AAEhEI,IAAAA,oBAAoB,EAAET,KAAK,CAACS,oBAFoC;AAGhE,OAAGd;AAH6D,GAAlC,CAAlC;AAKA,QAAM,CAACe,YAAD,EAAeC,eAAf,IAAkCpB,OAAO,CAACqB,QAAR,CAAiB,MAAMC,MAAM,CAACC,WAA9B,CAAxC;AACAvB,EAAAA,OAAO,CAACwB,SAAR,CAAkB,MAAM;AACpB,UAAMC,aAAa,GAAG,MAAM;AACxBL,MAAAA,eAAe,CAACE,MAAM,CAACC,WAAR,CAAf;AACH,KAFD;;AAGAG,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,EAAoCF,aAApC;AACA,WAAO,MAAM;AACTC,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,QAA7B,EAAuCH,aAAvC;AACH,KAFD;AAGH,GARD;AASA,SAAQ3B,aAAa,CAAC+B,GAAd,CAAkB5B,aAAa,CAAC6B,WAAhC,EAA6CrC,MAAM,CAACsC,MAAP,CAAc;AAAExB,IAAAA,SAAS,EAAEA,SAAb;AAAwBI,IAAAA,OAAO,EAAEA,OAAjC;AAA0CC,IAAAA,KAAK,EAAEA;AAAjD,GAAd,EAAwE;AAAEoB,IAAAA,QAAQ,EAAElC,aAAa,CAAC+B,GAAd,CAAkB,QAAlB,EAA4BpC,MAAM,CAACsC,MAAP,CAAc;AAAEE,MAAAA,OAAO,EAAE,eAAX;AAA4BC,MAAAA,MAAM,EAAEC,IAAI,CAACC,KAAL,CAAWjB,YAAY,GAAG,GAA1B,CAApC;AAAoEkB,MAAAA,KAAK,EAAE,MAA3E;AAAmFC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV;AAA1F,KAAd,EAAyH7B,KAAzH,CAA5B,EAA6J,KAAK,CAAlK;AAAZ,GAAxE,CAA7C,EAA0S,KAAK,CAA/S,CAAR;AACH,CAnBD;;AAoBAf,OAAO,CAACE,IAAR,GAAe;AACX2C,EAAAA,sBAAsB,CAAChC,OAAD,EAAU;AAC5B,QAAIH,EAAJ,EAAQC,EAAR,EAAYmC,EAAZ,EAAgBC,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB;;AACA,QAAI,CAAC,CAACtC,EAAE,GAAG,CAACD,EAAE,GAAGG,OAAO,CAACO,KAAR,CAAcC,OAApB,MAAiC,IAAjC,IAAyCX,EAAE,KAAK,KAAK,CAArD,GAAyD,KAAK,CAA9D,GAAkEA,EAAE,CAACwC,IAA3E,MAAqF,IAArF,IAA6FvC,EAAE,KAAK,KAAK,CAAzG,GAA6G,KAAK,CAAlH,GAAsHA,EAAE,CAACwC,UAAH,CAAc,WAAd,CAAvH,MACC,CAACJ,EAAE,GAAG,CAACD,EAAE,GAAGjC,OAAO,CAACO,KAAR,CAAcC,OAApB,MAAiC,IAAjC,IAAyCyB,EAAE,KAAK,KAAK,CAArD,GAAyD,KAAK,CAA9D,GAAkEA,EAAE,CAACI,IAA3E,MAAqF,IAArF,IAA6FH,EAAE,KAAK,KAAK,CAAzG,GAA6G,KAAK,CAAlH,GAAsHA,EAAE,CAACI,UAAH,CAAc,iBAAd,CADvH,MAEC,CAACF,EAAE,GAAG,CAACD,EAAE,GAAGnC,OAAO,CAACO,KAAR,CAAcE,SAApB,MAAmC,IAAnC,IAA2C0B,EAAE,KAAK,KAAK,CAAvD,GAA2D,KAAK,CAAhE,GAAoEA,EAAE,CAACE,IAA7E,MAAuF,IAAvF,IAA+FD,EAAE,KAAK,KAAK,CAA3G,GAA+G,KAAK,CAApH,GAAwHA,EAAE,CAACE,UAAH,CAAc,WAAd,CAFzH,CAAJ,EAE0J;AACtJ,aAAOtC,OAAO,CAACuC,gBAAR,KAA6B,MAA7B,GACD7C,gBAAgB,CAAC8C,mBAAjB,CAAqCC,QADpC,GAED/C,gBAAgB,CAAC8C,mBAAjB,CAAqCE,OAF3C;AAGH;;AACD,WAAOhD,gBAAgB,CAAC8C,mBAAjB,CAAqCE,OAA5C;AACH,GAXU;;AAYXC,EAAAA,MAAM,EAAEhD;AAZG,CAAf","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTML = void 0;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst MediaLoader_1 = require(\"./MediaLoader\");\nconst RendererConfig_1 = require(\"./RendererConfig\");\nconst HTMLRenderer = (requestProps) => {\n    var _a, _b;\n    const { getStyles, request, theme } = requestProps;\n    const { props, loading, error } = MediaLoader_1.useMediaObjectProps({\n        uri: ((_a = request.media.content) === null || _a === void 0 ? void 0 : _a.uri) || ((_b = request.media.animation) === null || _b === void 0 ? void 0 : _b.uri),\n        preferredIPFSGateway: theme.preferredIPFSGateway,\n        ...requestProps,\n    });\n    const [windowHeight, setWindowHeight] = react_1.useState(() => window.innerHeight);\n    react_1.useEffect(() => {\n        const resizeHandler = () => {\n            setWindowHeight(window.innerHeight);\n        };\n        document.addEventListener(\"resize\", resizeHandler);\n        return () => {\n            document.removeEventListener(\"resize\", resizeHandler);\n        };\n    });\n    return (jsx_runtime_1.jsx(MediaLoader_1.MediaLoader, Object.assign({ getStyles: getStyles, loading: loading, error: error }, { children: jsx_runtime_1.jsx(\"iframe\", Object.assign({ sandbox: \"allow-scripts\", height: Math.floor(windowHeight * 0.6), width: \"100%\", style: { border: 0 } }, props), void 0) }), void 0));\n};\nexports.HTML = {\n    getRenderingPreference(request) {\n        var _a, _b, _c, _d, _e, _f;\n        if (((_b = (_a = request.media.content) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.startsWith(\"text/html\")) ||\n            ((_d = (_c = request.media.content) === null || _c === void 0 ? void 0 : _c.type) === null || _d === void 0 ? void 0 : _d.startsWith(\"application/pdf\")) ||\n            ((_f = (_e = request.media.animation) === null || _e === void 0 ? void 0 : _e.type) === null || _f === void 0 ? void 0 : _f.startsWith(\"text/html\"))) {\n            return request.renderingContext === \"FULL\"\n                ? RendererConfig_1.RenderingPreference.PRIORITY\n                : RendererConfig_1.RenderingPreference.INVALID;\n        }\n        return RendererConfig_1.RenderingPreference.INVALID;\n    },\n    render: HTMLRenderer,\n};\n"]},"metadata":{},"sourceType":"script"}