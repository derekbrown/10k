{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuctionInfo = void 0;\n\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\n\nconst nft_hooks_1 = require(\"@zoralabs/nft-hooks\");\n\nconst react_1 = __importStar(require(\"react\"));\n\nconst PricingString_1 = require(\"../utils/PricingString\");\n\nconst AddressView_1 = require(\"../components/AddressView\");\n\nconst CountdownDisplay_1 = require(\"../components/CountdownDisplay\");\n\nconst NFTDataContext_1 = require(\"../context/NFTDataContext\");\n\nconst useMediaContext_1 = require(\"../context/useMediaContext\");\n\nconst InfoContainer_1 = require(\"./InfoContainer\");\n\nconst AuctionInfo = _ref => {\n  let {\n    showPerpetual = true,\n    className\n  } = _ref;\n\n  var _a, _b, _c;\n\n  const {\n    nft\n  } = react_1.useContext(NFTDataContext_1.NFTDataContext);\n  const {\n    getStyles,\n    getString\n  } = useMediaContext_1.useMediaContext();\n\n  const AuctionInfoWrapper = _ref2 => {\n    let {\n      children,\n      ...containerArgs\n    } = _ref2;\n    return jsx_runtime_1.jsx(InfoContainer_1.InfoContainer, Object.assign({}, containerArgs, {\n      className: className\n    }, {\n      children: children\n    }), void 0);\n  };\n\n  if (!nft.data) {\n    return jsx_runtime_1.jsx(react_1.Fragment, {}, void 0);\n  }\n\n  const {\n    data\n  } = nft;\n\n  if (data.pricing.status === nft_hooks_1.AuctionStateInfo.NO_PRICING) {\n    return jsx_runtime_1.jsx(react_1.default.Fragment, {}, void 0);\n  }\n\n  if (data.pricing.status === nft_hooks_1.AuctionStateInfo.PERPETUAL_ASK && showPerpetual) {\n    return jsx_runtime_1.jsxs(react_1.Fragment, {\n      children: [data.pricing.perpetual.ask && jsx_runtime_1.jsx(AuctionInfoWrapper, Object.assign({\n        titleString: \"LIST_PRICE\"\n      }, {\n        children: jsx_runtime_1.jsx(PricingString_1.PricingString, {\n          pricing: data.pricing.perpetual.ask.pricing\n        }, void 0)\n      }), void 0), jsx_runtime_1.jsx(AuctionInfoWrapper, Object.assign({\n        titleString: \"OPEN_OFFERS\"\n      }, {\n        children: \"Be the first one to bid on this piece!\"\n      }), void 0)]\n    }, void 0);\n  }\n\n  const reserve = data.pricing.reserve;\n\n  if (data.pricing.reserve && data.pricing.reserve.current.likelyHasEnded && (data.pricing.reserve.status === \"Finished\" || data.pricing.reserve.status === \"Active\")) {\n    const highestPreviousBid = data.pricing.reserve.currentBid || data.pricing.reserve.previousBids[0];\n    return jsx_runtime_1.jsxs(AuctionInfoWrapper, Object.assign({\n      className: className,\n      titleString: \"AUCTION_SOLD_FOR\"\n    }, {\n      children: [jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoAuctionPricing\"), {\n        children: jsx_runtime_1.jsx(PricingString_1.PricingString, {\n          pricing: highestPreviousBid.pricing\n        }, void 0)\n      }), void 0), jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoSpacer\", undefined, {\n        width: 15\n      })), void 0), jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullLabel\"), {\n        children: getString(\"WINNER\")\n      }), void 0), jsx_runtime_1.jsx(AddressView_1.AddressView, {\n        address: highestPreviousBid.bidder.id\n      }, void 0)]\n    }), void 0);\n  }\n\n  if (reserve !== undefined && !reserve.current.likelyHasEnded && reserve.expectedEndTimestamp && reserve.current.highestBid !== undefined) {\n    return jsx_runtime_1.jsxs(AuctionInfoWrapper, Object.assign({\n      titleString: \"AUCTION_ENDS\"\n    }, {\n      children: [jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"pricingAmount\"), {\n        children: jsx_runtime_1.jsx(CountdownDisplay_1.CountdownDisplay, {\n          to: reserve.expectedEndTimestamp\n        }, void 0)\n      }), void 0), jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoSpacer\")), void 0), jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullLabel\"), {\n        children: getString(\"HIGHEST_BID\")\n      }), void 0), jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoAuctionPricing\"), {\n        children: jsx_runtime_1.jsx(PricingString_1.PricingString, {\n          pricing: reserve.current.highestBid.pricing\n        }, void 0)\n      }), void 0), jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoSpacer\")), void 0), jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullLabel\"), {\n        children: getString(\"BIDDER\")\n      }), void 0), jsx_runtime_1.jsx(AddressView_1.AddressView, {\n        address: (_a = reserve.current.highestBid) === null || _a === void 0 ? void 0 : _a.placedBy\n      }, void 0)]\n    }), void 0);\n  }\n\n  if (showPerpetual && data.pricing.auctionType === nft_hooks_1.AuctionType.PERPETUAL && data.pricing.perpetual.highestBid) {\n    return jsx_runtime_1.jsx(AuctionInfoWrapper, Object.assign({\n      titleString: \"HIGHEST_BID\"\n    }, {\n      children: jsx_runtime_1.jsx(PricingString_1.PricingString, {\n        pricing: (_b = data.pricing.perpetual.highestBid) === null || _b === void 0 ? void 0 : _b.pricing\n      }, void 0)\n    }), void 0);\n  }\n\n  if (!showPerpetual && data.pricing.auctionType === nft_hooks_1.AuctionType.PERPETUAL) {\n    return jsx_runtime_1.jsx(react_1.Fragment, {}, void 0);\n  }\n\n  return jsx_runtime_1.jsx(AuctionInfoWrapper, Object.assign({\n    titleString: data.pricing.auctionType === nft_hooks_1.AuctionType.PERPETUAL ? \"LIST_PRICE\" : \"RESERVE_PRICE\"\n  }, {\n    children: jsx_runtime_1.jsxs(\"div\", Object.assign({}, getStyles(\"pricingAmount\"), {\n      children: [data.pricing.auctionType === nft_hooks_1.AuctionType.PERPETUAL && data.pricing.perpetual.ask && jsx_runtime_1.jsx(\"div\", {\n        children: jsx_runtime_1.jsx(PricingString_1.PricingString, {\n          pricing: data.pricing.perpetual.ask.pricing\n        }, void 0)\n      }, void 0), data.pricing.auctionType === nft_hooks_1.AuctionType.RESERVE && ((_c = data.pricing.reserve) === null || _c === void 0 ? void 0 : _c.reservePrice) && jsx_runtime_1.jsxs(jsx_runtime_1.Fragment, {\n        children: [jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoAuctionPricing\"), {\n          children: jsx_runtime_1.jsx(PricingString_1.PricingString, {\n            pricing: data.pricing.reserve.reservePrice\n          }, void 0)\n        }), void 0), jsx_runtime_1.jsxs(\"div\", {\n          children: [jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoSpacer\")), void 0), jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullLabel\"), {\n            children: getString(\"AUCTION_PENDING_DURATION\")\n          }), void 0), jsx_runtime_1.jsx(CountdownDisplay_1.DurationDisplay, {\n            duration: data.pricing.reserve.duration\n          }, void 0)]\n        }, void 0)]\n      }, void 0)]\n    }), void 0)\n  }), void 0);\n};\n\nexports.AuctionInfo = AuctionInfo;","map":{"version":3,"sources":["/Users/derekbrown/workspace/10kdigits/node_modules/@zoralabs/nft-components/dist/nft-full/AuctionInfo.js"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","prototype","hasOwnProperty","call","exports","AuctionInfo","jsx_runtime_1","require","nft_hooks_1","react_1","PricingString_1","AddressView_1","CountdownDisplay_1","NFTDataContext_1","useMediaContext_1","InfoContainer_1","showPerpetual","className","_a","_b","_c","nft","useContext","NFTDataContext","getStyles","getString","useMediaContext","AuctionInfoWrapper","children","containerArgs","jsx","InfoContainer","assign","data","Fragment","pricing","status","AuctionStateInfo","NO_PRICING","default","PERPETUAL_ASK","jsxs","perpetual","ask","titleString","PricingString","reserve","current","likelyHasEnded","highestPreviousBid","currentBid","previousBids","width","AddressView","address","bidder","id","expectedEndTimestamp","highestBid","CountdownDisplay","to","placedBy","auctionType","AuctionType","PERPETUAL","RESERVE","reservePrice","DurationDisplay","duration"],"mappings":"AAAA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,KAAmCC,MAAM,CAACC,MAAP,GAAiB,UAASC,CAAT,EAAYC,CAAZ,EAAeC,CAAf,EAAkBC,EAAlB,EAAsB;AAC5F,MAAIA,EAAE,KAAKC,SAAX,EAAsBD,EAAE,GAAGD,CAAL;AACtBJ,EAAAA,MAAM,CAACO,cAAP,CAAsBL,CAAtB,EAAyBG,EAAzB,EAA6B;AAAEG,IAAAA,UAAU,EAAE,IAAd;AAAoBC,IAAAA,GAAG,EAAE,YAAW;AAAE,aAAON,CAAC,CAACC,CAAD,CAAR;AAAc;AAApD,GAA7B;AACH,CAHwD,GAGnD,UAASF,CAAT,EAAYC,CAAZ,EAAeC,CAAf,EAAkBC,EAAlB,EAAsB;AACxB,MAAIA,EAAE,KAAKC,SAAX,EAAsBD,EAAE,GAAGD,CAAL;AACtBF,EAAAA,CAAC,CAACG,EAAD,CAAD,GAAQF,CAAC,CAACC,CAAD,CAAT;AACH,CANqB,CAAtB;;AAOA,IAAIM,kBAAkB,GAAI,QAAQ,KAAKA,kBAAd,KAAsCV,MAAM,CAACC,MAAP,GAAiB,UAASC,CAAT,EAAYS,CAAZ,EAAe;AAC3FX,EAAAA,MAAM,CAACO,cAAP,CAAsBL,CAAtB,EAAyB,SAAzB,EAAoC;AAAEM,IAAAA,UAAU,EAAE,IAAd;AAAoBI,IAAAA,KAAK,EAAED;AAA3B,GAApC;AACH,CAF8D,GAE1D,UAAST,CAAT,EAAYS,CAAZ,EAAe;AAChBT,EAAAA,CAAC,CAAC,SAAD,CAAD,GAAeS,CAAf;AACH,CAJwB,CAAzB;;AAKA,IAAIE,YAAY,GAAI,QAAQ,KAAKA,YAAd,IAA+B,UAAUC,GAAV,EAAe;AAC7D,MAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B,OAAOD,GAAP;AAC3B,MAAIE,MAAM,GAAG,EAAb;AACA,MAAIF,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAIV,CAAT,IAAcU,GAAd,EAAmB,IAAIV,CAAC,KAAK,SAAN,IAAmBJ,MAAM,CAACiB,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCL,GAArC,EAA0CV,CAA1C,CAAvB,EAAqEL,eAAe,CAACiB,MAAD,EAASF,GAAT,EAAcV,CAAd,CAAf;;AACzGM,EAAAA,kBAAkB,CAACM,MAAD,EAASF,GAAT,CAAlB;;AACA,SAAOE,MAAP;AACH,CAND;;AAOAhB,MAAM,CAACO,cAAP,CAAsBa,OAAtB,EAA+B,YAA/B,EAA6C;AAAER,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAQ,OAAO,CAACC,WAAR,GAAsB,KAAK,CAA3B;;AACA,MAAMC,aAAa,GAAGC,OAAO,CAAC,mBAAD,CAA7B;;AACA,MAAMC,WAAW,GAAGD,OAAO,CAAC,qBAAD,CAA3B;;AACA,MAAME,OAAO,GAAGZ,YAAY,CAACU,OAAO,CAAC,OAAD,CAAR,CAA5B;;AACA,MAAMG,eAAe,GAAGH,OAAO,CAAC,wBAAD,CAA/B;;AACA,MAAMI,aAAa,GAAGJ,OAAO,CAAC,2BAAD,CAA7B;;AACA,MAAMK,kBAAkB,GAAGL,OAAO,CAAC,gCAAD,CAAlC;;AACA,MAAMM,gBAAgB,GAAGN,OAAO,CAAC,2BAAD,CAAhC;;AACA,MAAMO,iBAAiB,GAAGP,OAAO,CAAC,4BAAD,CAAjC;;AACA,MAAMQ,eAAe,GAAGR,OAAO,CAAC,iBAAD,CAA/B;;AACA,MAAMF,WAAW,GAAG,QAA0C;AAAA,MAAzC;AAAEW,IAAAA,aAAa,GAAG,IAAlB;AAAwBC,IAAAA;AAAxB,GAAyC;;AAC1D,MAAIC,EAAJ,EAAQC,EAAR,EAAYC,EAAZ;;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAUZ,OAAO,CAACa,UAAR,CAAmBT,gBAAgB,CAACU,cAApC,CAAhB;AACA,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA2BX,iBAAiB,CAACY,eAAlB,EAAjC;;AACA,QAAMC,kBAAkB,GAAG;AAAA,QAAC;AAAEC,MAAAA,QAAF;AAAY,SAAGC;AAAf,KAAD;AAAA,WAAqCvB,aAAa,CAACwB,GAAd,CAAkBf,eAAe,CAACgB,aAAlC,EAAiD/C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBH,aAAlB,EAAiC;AAAEZ,MAAAA,SAAS,EAAEA;AAAb,KAAjC,EAA2D;AAAEW,MAAAA,QAAQ,EAAEA;AAAZ,KAA3D,CAAjD,EAAqI,KAAK,CAA1I,CAArC;AAAA,GAA3B;;AACA,MAAI,CAACP,GAAG,CAACY,IAAT,EAAe;AACX,WAAO3B,aAAa,CAACwB,GAAd,CAAkBrB,OAAO,CAACyB,QAA1B,EAAoC,EAApC,EAAwC,KAAK,CAA7C,CAAP;AACH;;AACD,QAAM;AAAED,IAAAA;AAAF,MAAWZ,GAAjB;;AACA,MAAIY,IAAI,CAACE,OAAL,CAAaC,MAAb,KAAwB5B,WAAW,CAAC6B,gBAAZ,CAA6BC,UAAzD,EAAqE;AACjE,WAAOhC,aAAa,CAACwB,GAAd,CAAkBrB,OAAO,CAAC8B,OAAR,CAAgBL,QAAlC,EAA4C,EAA5C,EAAgD,KAAK,CAArD,CAAP;AACH;;AACD,MAAID,IAAI,CAACE,OAAL,CAAaC,MAAb,KAAwB5B,WAAW,CAAC6B,gBAAZ,CAA6BG,aAArD,IAAsExB,aAA1E,EAAyF;AACrF,WAAQV,aAAa,CAACmC,IAAd,CAAmBhC,OAAO,CAACyB,QAA3B,EAAqC;AAAEN,MAAAA,QAAQ,EAAE,CAACK,IAAI,CAACE,OAAL,CAAaO,SAAb,CAAuBC,GAAvB,IAA+BrC,aAAa,CAACwB,GAAd,CAAkBH,kBAAlB,EAAsC3C,MAAM,CAACgD,MAAP,CAAc;AAAEY,QAAAA,WAAW,EAAE;AAAf,OAAd,EAA6C;AAAEhB,QAAAA,QAAQ,EAAEtB,aAAa,CAACwB,GAAd,CAAkBpB,eAAe,CAACmC,aAAlC,EAAiD;AAAEV,UAAAA,OAAO,EAAEF,IAAI,CAACE,OAAL,CAAaO,SAAb,CAAuBC,GAAvB,CAA2BR;AAAtC,SAAjD,EAAkG,KAAK,CAAvG;AAAZ,OAA7C,CAAtC,EAA6M,KAAK,CAAlN,CAAhC,EACjD7B,aAAa,CAACwB,GAAd,CAAkBH,kBAAlB,EAAsC3C,MAAM,CAACgD,MAAP,CAAc;AAAEY,QAAAA,WAAW,EAAE;AAAf,OAAd,EAA8C;AAAEhB,QAAAA,QAAQ,EAAE;AAAZ,OAA9C,CAAtC,EAA6I,KAAK,CAAlJ,CADiD;AAAZ,KAArC,EACyJ,KAAK,CAD9J,CAAR;AAEH;;AACD,QAAMkB,OAAO,GAAGb,IAAI,CAACE,OAAL,CAAaW,OAA7B;;AACA,MAAIb,IAAI,CAACE,OAAL,CAAaW,OAAb,IACAb,IAAI,CAACE,OAAL,CAAaW,OAAb,CAAqBC,OAArB,CAA6BC,cAD7B,KAECf,IAAI,CAACE,OAAL,CAAaW,OAAb,CAAqBV,MAArB,KAAgC,UAAhC,IACGH,IAAI,CAACE,OAAL,CAAaW,OAAb,CAAqBV,MAArB,KAAgC,QAHpC,CAAJ,EAGmD;AAC/C,UAAMa,kBAAkB,GAAGhB,IAAI,CAACE,OAAL,CAAaW,OAAb,CAAqBI,UAArB,IAAmCjB,IAAI,CAACE,OAAL,CAAaW,OAAb,CAAqBK,YAArB,CAAkC,CAAlC,CAA9D;AACA,WAAQ7C,aAAa,CAACmC,IAAd,CAAmBd,kBAAnB,EAAuC3C,MAAM,CAACgD,MAAP,CAAc;AAAEf,MAAAA,SAAS,EAAEA,SAAb;AAAwB2B,MAAAA,WAAW,EAAE;AAArC,KAAd,EAAyE;AAAEhB,MAAAA,QAAQ,EAAE,CAACtB,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,wBAAD,CAA3B,EAAuD;AAAEI,QAAAA,QAAQ,EAAEtB,aAAa,CAACwB,GAAd,CAAkBpB,eAAe,CAACmC,aAAlC,EAAiD;AAAEV,UAAAA,OAAO,EAAEc,kBAAkB,CAACd;AAA9B,SAAjD,EAA0F,KAAK,CAA/F;AAAZ,OAAvD,CAAzB,EAAkM,KAAK,CAAvM,CAAD,EAC5H7B,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,gBAAD,EAAmBlC,SAAnB,EAA8B;AAAE8D,QAAAA,KAAK,EAAE;AAAT,OAA9B,CAA3B,CAAzB,EAAmG,KAAK,CAAxG,CAD4H,EAE5H9C,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,WAAD,CAA3B,EAA0C;AAAEI,QAAAA,QAAQ,EAAEH,SAAS,CAAC,QAAD;AAArB,OAA1C,CAAzB,EAAuG,KAAK,CAA5G,CAF4H,EAG5HnB,aAAa,CAACwB,GAAd,CAAkBnB,aAAa,CAAC0C,WAAhC,EAA6C;AAAEC,QAAAA,OAAO,EAAEL,kBAAkB,CAACM,MAAnB,CAA0BC;AAArC,OAA7C,EAAwF,KAAK,CAA7F,CAH4H;AAAZ,KAAzE,CAAvC,EAGqG,KAAK,CAH1G,CAAR;AAIH;;AACD,MAAIV,OAAO,KAAKxD,SAAZ,IACA,CAACwD,OAAO,CAACC,OAAR,CAAgBC,cADjB,IAEAF,OAAO,CAACW,oBAFR,IAGAX,OAAO,CAACC,OAAR,CAAgBW,UAAhB,KAA+BpE,SAHnC,EAG8C;AAC1C,WAAQgB,aAAa,CAACmC,IAAd,CAAmBd,kBAAnB,EAAuC3C,MAAM,CAACgD,MAAP,CAAc;AAAEY,MAAAA,WAAW,EAAE;AAAf,KAAd,EAA+C;AAAEhB,MAAAA,QAAQ,EAAE,CAACtB,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,eAAD,CAA3B,EAA8C;AAAEI,QAAAA,QAAQ,EAAEtB,aAAa,CAACwB,GAAd,CAAkBlB,kBAAkB,CAAC+C,gBAArC,EAAuD;AAAEC,UAAAA,EAAE,EAAEd,OAAO,CAACW;AAAd,SAAvD,EAA6F,KAAK,CAAlG;AAAZ,OAA9C,CAAzB,EAA4L,KAAK,CAAjM,CAAD,EAClGnD,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,gBAAD,CAA3B,CAAzB,EAAyE,KAAK,CAA9E,CADkG,EAElGlB,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,WAAD,CAA3B,EAA0C;AAAEI,QAAAA,QAAQ,EAAEH,SAAS,CAAC,aAAD;AAArB,OAA1C,CAAzB,EAA4G,KAAK,CAAjH,CAFkG,EAGlGnB,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,wBAAD,CAA3B,EAAuD;AAAEI,QAAAA,QAAQ,EAAEtB,aAAa,CAACwB,GAAd,CAAkBpB,eAAe,CAACmC,aAAlC,EAAiD;AAAEV,UAAAA,OAAO,EAAEW,OAAO,CAACC,OAAR,CAAgBW,UAAhB,CAA2BvB;AAAtC,SAAjD,EAAkG,KAAK,CAAvG;AAAZ,OAAvD,CAAzB,EAA0M,KAAK,CAA/M,CAHkG,EAIlG7B,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,gBAAD,CAA3B,CAAzB,EAAyE,KAAK,CAA9E,CAJkG,EAKlGlB,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,WAAD,CAA3B,EAA0C;AAAEI,QAAAA,QAAQ,EAAEH,SAAS,CAAC,QAAD;AAArB,OAA1C,CAAzB,EAAuG,KAAK,CAA5G,CALkG,EAMlGnB,aAAa,CAACwB,GAAd,CAAkBnB,aAAa,CAAC0C,WAAhC,EAA6C;AAAEC,QAAAA,OAAO,EAAE,CAACpC,EAAE,GAAG4B,OAAO,CAACC,OAAR,CAAgBW,UAAtB,MAAsC,IAAtC,IAA8CxC,EAAE,KAAK,KAAK,CAA1D,GAA8D,KAAK,CAAnE,GAAuEA,EAAE,CAAC2C;AAArF,OAA7C,EAA8I,KAAK,CAAnJ,CANkG;AAAZ,KAA/C,CAAvC,EAM2J,KAAK,CANhK,CAAR;AAOH;;AACD,MAAI7C,aAAa,IACbiB,IAAI,CAACE,OAAL,CAAa2B,WAAb,KAA6BtD,WAAW,CAACuD,WAAZ,CAAwBC,SADrD,IAEA/B,IAAI,CAACE,OAAL,CAAaO,SAAb,CAAuBgB,UAF3B,EAEuC;AACnC,WAAQpD,aAAa,CAACwB,GAAd,CAAkBH,kBAAlB,EAAsC3C,MAAM,CAACgD,MAAP,CAAc;AAAEY,MAAAA,WAAW,EAAE;AAAf,KAAd,EAA8C;AAAEhB,MAAAA,QAAQ,EAAEtB,aAAa,CAACwB,GAAd,CAAkBpB,eAAe,CAACmC,aAAlC,EAAiD;AAAEV,QAAAA,OAAO,EAAE,CAAChB,EAAE,GAAGc,IAAI,CAACE,OAAL,CAAaO,SAAb,CAAuBgB,UAA7B,MAA6C,IAA7C,IAAqDvC,EAAE,KAAK,KAAK,CAAjE,GAAqE,KAAK,CAA1E,GAA8EA,EAAE,CAACgB;AAA5F,OAAjD,EAAwJ,KAAK,CAA7J;AAAZ,KAA9C,CAAtC,EAAoQ,KAAK,CAAzQ,CAAR;AACH;;AACD,MAAI,CAACnB,aAAD,IAAkBiB,IAAI,CAACE,OAAL,CAAa2B,WAAb,KAA6BtD,WAAW,CAACuD,WAAZ,CAAwBC,SAA3E,EAAsF;AAClF,WAAO1D,aAAa,CAACwB,GAAd,CAAkBrB,OAAO,CAACyB,QAA1B,EAAoC,EAApC,EAAwC,KAAK,CAA7C,CAAP;AACH;;AACD,SAAQ5B,aAAa,CAACwB,GAAd,CAAkBH,kBAAlB,EAAsC3C,MAAM,CAACgD,MAAP,CAAc;AAAEY,IAAAA,WAAW,EAAEX,IAAI,CAACE,OAAL,CAAa2B,WAAb,KAA6BtD,WAAW,CAACuD,WAAZ,CAAwBC,SAArD,GACjE,YADiE,GAEjE;AAFkD,GAAd,EAEjB;AAAEpC,IAAAA,QAAQ,EAAEtB,aAAa,CAACmC,IAAd,CAAmB,KAAnB,EAA0BzD,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,eAAD,CAA3B,EAA8C;AAAEI,MAAAA,QAAQ,EAAE,CAACK,IAAI,CAACE,OAAL,CAAa2B,WAAb,KAA6BtD,WAAW,CAACuD,WAAZ,CAAwBC,SAArD,IAC9G/B,IAAI,CAACE,OAAL,CAAaO,SAAb,CAAuBC,GADuF,IAC/ErC,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB;AAAEF,QAAAA,QAAQ,EAAEtB,aAAa,CAACwB,GAAd,CAAkBpB,eAAe,CAACmC,aAAlC,EAAiD;AAAEV,UAAAA,OAAO,EAAEF,IAAI,CAACE,OAAL,CAAaO,SAAb,CAAuBC,GAAvB,CAA2BR;AAAtC,SAAjD,EAAkG,KAAK,CAAvG;AAAZ,OAAzB,EAAkJ,KAAK,CAAvJ,CAD8E,EAEjHF,IAAI,CAACE,OAAL,CAAa2B,WAAb,KAA6BtD,WAAW,CAACuD,WAAZ,CAAwBE,OAArD,KACK,CAAC7C,EAAE,GAAGa,IAAI,CAACE,OAAL,CAAaW,OAAnB,MAAgC,IAAhC,IAAwC1B,EAAE,KAAK,KAAK,CAApD,GAAwD,KAAK,CAA7D,GAAiEA,EAAE,CAAC8C,YADzE,KAC2F5D,aAAa,CAACmC,IAAd,CAAmBnC,aAAa,CAAC4B,QAAjC,EAA2C;AAAEN,QAAAA,QAAQ,EAAE,CAACtB,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,wBAAD,CAA3B,EAAuD;AAAEI,UAAAA,QAAQ,EAAEtB,aAAa,CAACwB,GAAd,CAAkBpB,eAAe,CAACmC,aAAlC,EAAiD;AAAEV,YAAAA,OAAO,EAAEF,IAAI,CAACE,OAAL,CAAaW,OAAb,CAAqBoB;AAAhC,WAAjD,EAAiG,KAAK,CAAtG;AAAZ,SAAvD,CAAzB,EAAyM,KAAK,CAA9M,CAAD,EAC1I5D,aAAa,CAACmC,IAAd,CAAmB,KAAnB,EAA0B;AAAEb,UAAAA,QAAQ,EAAE,CAACtB,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,gBAAD,CAA3B,CAAzB,EAAyE,KAAK,CAA9E,CAAD,EAC9BlB,aAAa,CAACwB,GAAd,CAAkB,KAAlB,EAAyB9C,MAAM,CAACgD,MAAP,CAAc,EAAd,EAAkBR,SAAS,CAAC,WAAD,CAA3B,EAA0C;AAAEI,YAAAA,QAAQ,EAAEH,SAAS,CAAC,0BAAD;AAArB,WAA1C,CAAzB,EAAyH,KAAK,CAA9H,CAD8B,EAE9BnB,aAAa,CAACwB,GAAd,CAAkBlB,kBAAkB,CAACuD,eAArC,EAAsD;AAAEC,YAAAA,QAAQ,EAAEnC,IAAI,CAACE,OAAL,CAAaW,OAAb,CAAqBsB;AAAjC,WAAtD,EAAmG,KAAK,CAAxG,CAF8B;AAAZ,SAA1B,EAEuH,KAAK,CAF5H,CAD0I;AAAZ,OAA3C,EAGgD,KAAK,CAHrD,CAHsB;AAAZ,KAA9C,CAA1B,EAM4H,KAAK,CANjI;AAAZ,GAFiB,CAAtC,EAQyK,KAAK,CAR9K,CAAR;AASH,CAxDD;;AAyDAhE,OAAO,CAACC,WAAR,GAAsBA,WAAtB","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuctionInfo = void 0;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst nft_hooks_1 = require(\"@zoralabs/nft-hooks\");\nconst react_1 = __importStar(require(\"react\"));\nconst PricingString_1 = require(\"../utils/PricingString\");\nconst AddressView_1 = require(\"../components/AddressView\");\nconst CountdownDisplay_1 = require(\"../components/CountdownDisplay\");\nconst NFTDataContext_1 = require(\"../context/NFTDataContext\");\nconst useMediaContext_1 = require(\"../context/useMediaContext\");\nconst InfoContainer_1 = require(\"./InfoContainer\");\nconst AuctionInfo = ({ showPerpetual = true, className, }) => {\n    var _a, _b, _c;\n    const { nft } = react_1.useContext(NFTDataContext_1.NFTDataContext);\n    const { getStyles, getString } = useMediaContext_1.useMediaContext();\n    const AuctionInfoWrapper = ({ children, ...containerArgs }) => (jsx_runtime_1.jsx(InfoContainer_1.InfoContainer, Object.assign({}, containerArgs, { className: className }, { children: children }), void 0));\n    if (!nft.data) {\n        return jsx_runtime_1.jsx(react_1.Fragment, {}, void 0);\n    }\n    const { data } = nft;\n    if (data.pricing.status === nft_hooks_1.AuctionStateInfo.NO_PRICING) {\n        return jsx_runtime_1.jsx(react_1.default.Fragment, {}, void 0);\n    }\n    if (data.pricing.status === nft_hooks_1.AuctionStateInfo.PERPETUAL_ASK && showPerpetual) {\n        return (jsx_runtime_1.jsxs(react_1.Fragment, { children: [data.pricing.perpetual.ask && (jsx_runtime_1.jsx(AuctionInfoWrapper, Object.assign({ titleString: \"LIST_PRICE\" }, { children: jsx_runtime_1.jsx(PricingString_1.PricingString, { pricing: data.pricing.perpetual.ask.pricing }, void 0) }), void 0)),\n                jsx_runtime_1.jsx(AuctionInfoWrapper, Object.assign({ titleString: \"OPEN_OFFERS\" }, { children: \"Be the first one to bid on this piece!\" }), void 0)] }, void 0));\n    }\n    const reserve = data.pricing.reserve;\n    if (data.pricing.reserve &&\n        data.pricing.reserve.current.likelyHasEnded &&\n        (data.pricing.reserve.status === \"Finished\" ||\n            data.pricing.reserve.status === \"Active\")) {\n        const highestPreviousBid = data.pricing.reserve.currentBid || data.pricing.reserve.previousBids[0];\n        return (jsx_runtime_1.jsxs(AuctionInfoWrapper, Object.assign({ className: className, titleString: \"AUCTION_SOLD_FOR\" }, { children: [jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoAuctionPricing\"), { children: jsx_runtime_1.jsx(PricingString_1.PricingString, { pricing: highestPreviousBid.pricing }, void 0) }), void 0),\n                jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoSpacer\", undefined, { width: 15 })), void 0),\n                jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullLabel\"), { children: getString(\"WINNER\") }), void 0),\n                jsx_runtime_1.jsx(AddressView_1.AddressView, { address: highestPreviousBid.bidder.id }, void 0)] }), void 0));\n    }\n    if (reserve !== undefined &&\n        !reserve.current.likelyHasEnded &&\n        reserve.expectedEndTimestamp &&\n        reserve.current.highestBid !== undefined) {\n        return (jsx_runtime_1.jsxs(AuctionInfoWrapper, Object.assign({ titleString: \"AUCTION_ENDS\" }, { children: [jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"pricingAmount\"), { children: jsx_runtime_1.jsx(CountdownDisplay_1.CountdownDisplay, { to: reserve.expectedEndTimestamp }, void 0) }), void 0),\n                jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoSpacer\")), void 0),\n                jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullLabel\"), { children: getString(\"HIGHEST_BID\") }), void 0),\n                jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoAuctionPricing\"), { children: jsx_runtime_1.jsx(PricingString_1.PricingString, { pricing: reserve.current.highestBid.pricing }, void 0) }), void 0),\n                jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoSpacer\")), void 0),\n                jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullLabel\"), { children: getString(\"BIDDER\") }), void 0),\n                jsx_runtime_1.jsx(AddressView_1.AddressView, { address: (_a = reserve.current.highestBid) === null || _a === void 0 ? void 0 : _a.placedBy }, void 0)] }), void 0));\n    }\n    if (showPerpetual &&\n        data.pricing.auctionType === nft_hooks_1.AuctionType.PERPETUAL &&\n        data.pricing.perpetual.highestBid) {\n        return (jsx_runtime_1.jsx(AuctionInfoWrapper, Object.assign({ titleString: \"HIGHEST_BID\" }, { children: jsx_runtime_1.jsx(PricingString_1.PricingString, { pricing: (_b = data.pricing.perpetual.highestBid) === null || _b === void 0 ? void 0 : _b.pricing }, void 0) }), void 0));\n    }\n    if (!showPerpetual && data.pricing.auctionType === nft_hooks_1.AuctionType.PERPETUAL) {\n        return jsx_runtime_1.jsx(react_1.Fragment, {}, void 0);\n    }\n    return (jsx_runtime_1.jsx(AuctionInfoWrapper, Object.assign({ titleString: data.pricing.auctionType === nft_hooks_1.AuctionType.PERPETUAL\n            ? \"LIST_PRICE\"\n            : \"RESERVE_PRICE\" }, { children: jsx_runtime_1.jsxs(\"div\", Object.assign({}, getStyles(\"pricingAmount\"), { children: [data.pricing.auctionType === nft_hooks_1.AuctionType.PERPETUAL &&\n                    data.pricing.perpetual.ask && (jsx_runtime_1.jsx(\"div\", { children: jsx_runtime_1.jsx(PricingString_1.PricingString, { pricing: data.pricing.perpetual.ask.pricing }, void 0) }, void 0)),\n                data.pricing.auctionType === nft_hooks_1.AuctionType.RESERVE &&\n                    ((_c = data.pricing.reserve) === null || _c === void 0 ? void 0 : _c.reservePrice) && (jsx_runtime_1.jsxs(jsx_runtime_1.Fragment, { children: [jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoAuctionPricing\"), { children: jsx_runtime_1.jsx(PricingString_1.PricingString, { pricing: data.pricing.reserve.reservePrice }, void 0) }), void 0),\n                        jsx_runtime_1.jsxs(\"div\", { children: [jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullInfoSpacer\")), void 0),\n                                jsx_runtime_1.jsx(\"div\", Object.assign({}, getStyles(\"fullLabel\"), { children: getString(\"AUCTION_PENDING_DURATION\") }), void 0),\n                                jsx_runtime_1.jsx(CountdownDisplay_1.DurationDisplay, { duration: data.pricing.reserve.duration }, void 0)] }, void 0)] }, void 0))] }), void 0) }), void 0));\n};\nexports.AuctionInfo = AuctionInfo;\n"]},"metadata":{},"sourceType":"script"}