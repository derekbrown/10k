'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var react = require('react');
var webWorker = require('@shopify/web-worker');
var reactHooks = require('@shopify/react-hooks');

function useWorker(creator, ...args) {
  const {
    current: worker
  } = reactHooks.useLazyRef(() => creator(...args));
  react.useEffect(() => {
    return () => {
      webWorker.terminate(worker);
    };
  }, [worker]);
  return worker;
}

exports.useWorker = useWorker;
